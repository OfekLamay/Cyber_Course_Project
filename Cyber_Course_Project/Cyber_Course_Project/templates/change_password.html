<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Change Password - Communication_LTD</title>

<style>
 
  body{
    font-family:'Segoe UI',Tahoma,sans-serif;
    background:linear-gradient(135deg,#667eea,#764ba2);
    margin:0;
    padding:20px;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    box-sizing:border-box;
  }

  /* Main white card container */
  .container{
    max-width:480px;
    width:100%;
    background:#fff;
    border-radius:16px;
    box-shadow:0 8px 25px rgba(0,0,0,.25);
    overflow:hidden;
  }

  /* Header section with title and subtitle */
  .header{
    background:linear-gradient(135deg,#1e3c72,#2a5298);
    color:#fff;
    padding:32px 28px;
    text-align:center;
  }
  .header h1{
    margin:0;
    font-size:1.9em;
  }

  /* Form layout */
  form{
    padding:32px 28px;
  }

  .form-group{
    margin-bottom:22px;
  }

  label{
    display:block;
    margin-bottom:6px;
    font-weight:600;
    color:#2c3e50;
  }

  input[type=password]{
    width:100%;
    padding:12px;
    border:2px solid #ddd;
    border-radius:8px;
    font-size:15px;
    transition:.25s;
  }

  input:focus{
    outline:none;
    border-color:#2a5298;
    box-shadow:0 0 0 3px rgba(42,82,152,.15);
  }

  /* Action buttons row */
  .actions{
    display:flex;
    gap:12px;
    flex-wrap:wrap;
  }

  button{
    flex:1;
    padding:14px;
    border:none;
    border-radius:8px;
    background:linear-gradient(135deg,#1e3c72,#2a5298);
    color:#fff;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
    transition:.3s;
  }

  button:hover{
    transform:translateY(-2px);
    box-shadow:0 8px 18px rgba(30,60,114,.35);
  }

  /* Info / note box at the bottom */
  .note{
    background:#f8f9fa;
    padding:18px 24px;
    color:#555;
    font-size:13px;
    border-top:1px solid #eee;
  }

  /* Messages area (success / error from Django) */
  .msg{
    margin:0 0 14px;
    padding:12px;
    border-radius:8px;
    font-size:14px;
    font-weight:600;
    display:block; /* Always block; visibility controlled by whether we render it */
  }
  .msg.ok{
    background:#d4edda;
    color:#155724;
    border:1px solid #c3e6cb;
  }
  .msg.err{
    background:#f8d7da;
    color:#721c24;
    border:1px solid #f5c6cb;
  }

  .back{
    margin-top:10px;
    text-align:center;
  }
  .back a{
    color:#2a5298;
    text-decoration:none;
    font-weight:600;
  }
</style>
</head>
<body>
  <div class="container">

    <!-- Header: title + short description -->
    <div class="header">
      <h1>üîê Change Password</h1>
      <p style="opacity:.85;margin-top:6px;">Update your account password securely</p>
    </div>

    <!-- Main form for changing the password -->
    <form method="post" autocomplete="off">
      {% csrf_token %}

      <!-- Django messages (success / error) -->
      {% if messages %}
        {% for message in messages %}
          <div class="msg {% if message.tags == 'error' %}err{% else %}ok{% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}

      <!-- Current password field -->
      <div class="form-group">
        <label for="current_password">Current Password</label>
        <input
          type="password"
          id="current_password"
          name="current_password"
          required
          placeholder="Enter your current password">
      </div>

      <!-- New password field -->
      <div class="form-group">
        <label for="new_password">New Password</label>
        <input
          type="password"
          id="new_password"
          name="new_password"
          required
          placeholder="Enter a new password">
      </div>

      <!-- Confirm new password field -->
      <div class="form-group">
        <label for="confirm_password">Confirm New Password</label>
        <input
          type="password"
          id="confirm_password"
          name="confirm_password"
          required
          placeholder="Re-enter the new password">
      </div>

      <!-- Submit button: triggers Django view to validate and update -->
      <div class="actions">
        <button type="submit">Change Password</button>
      </div>

      <!-- Back link to Home (or Sign In if you prefer) -->
      <div class="back">
        <p><a href="{% url 'home' %}">‚Üê Back to Home</a></p>
        <!-- Or: <p><a href="{% url 'Sign_In' %}">‚Üê Back to Sign In</a></p> -->
      </div>
    </form>

    <!-- Informational note for documentation / UX -->
    <div class="note">
      <p><strong>Process:</strong></p>
      <ol style="padding-left:18px;margin:8px 0;">
        <li>Enter your current password.</li>
        <li>Choose a new password that meets the policy requirements.</li>
        <li>Confirm the new password and submit the form.</li>
      </ol>
      <p style="margin-top:10px;">
        The backend (Django view) verifies the current password and securely updates
        the stored password if all validations pass.
      </p>
    </div>
  </div>
</body>
</html>
