<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Forgot Password - Communication_LTD</title>
<style>
 body{font-family:'Segoe UI',Tahoma,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);margin:0;padding:20px;min-height:100vh;display:flex;justify-content:center;align-items:center;box-sizing:border-box;}
 .container{max-width:480px;width:100%;background:#fff;border-radius:16px;box-shadow:0 8px 25px rgba(0,0,0,.25);overflow:hidden;}
 .header{background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;padding:32px 28px;text-align:center;}
 .header h1{margin:0;font-size:1.9em;}
 form{padding:32px 28px;}
 .form-group{margin-bottom:22px;}
 label{display:block;margin-bottom:6px;font-weight:600;color:#2c3e50;}
 input[type=email],input[type=text]{width:100%;padding:12px;border:2px solid #ddd;border-radius:8px;font-size:15px;transition:.25s;}
 input:focus{outline:none;border-color:#2a5298;box-shadow:0 0 0 3px rgba(42,82,152,.15);}
 .actions{display:flex;gap:12px;flex-wrap:wrap;}
 button{flex:1;padding:14px;border:none;border-radius:8px;background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;font-size:15px;font-weight:600;cursor:pointer;transition:.3s;}
 button:hover{transform:translateY(-2px);box-shadow:0 8px 18px rgba(30,60,114,.35);}
 .note{background:#f8f9fa;padding:18px 24px;color:#555;font-size:13px;border-top:1px solid #eee;}
 .msg{margin:0 0 14px;padding:12px;border-radius:8px;font-size:14px;font-weight:600;display:none;}
 .msg.ok{background:#d4edda;color:#155724;border:1px solid #c3e6cb;}
 .msg.err{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb;}
 .back{margin-top:10px;text-align:center;}
 .back a{color:#2a5298;text-decoration:none;font-weight:600;}
</style>
</head>
<body>
 <div class="container">
   <div class="header">
     <h1>üîê Forgot Password</h1>
     <p style="opacity:.85;margin-top:6px;">Request a reset code</p>
   </div>

   <form id="forgotForm" autocomplete="off">
     <div id="status" class="msg"></div>

     <div class="form-group">
       <label for="email">Account Email</label>
       <input type="email" id="email" name="email" required placeholder="you@example.com">
     </div>

     <div class="actions">
       <button type="submit">Send Reset Code</button>
     </div>

     <hr style="margin:30px 0 25px;border:none;border-top:1px solid #eee">

     <div class="form-group">
       <label for="token">Enter Received Code</label>
       <input type="text" id="token" name="token" minlength="40" maxlength="40" pattern="[0-9a-fA-F]{40}" placeholder="40-char code">
     </div>

     <div class="actions">
       <button type="button" id="verifyBtn" style="background:#3498db;">Verify Code</button>
     </div>

     <div class="back">
       <p><a href="{% url 'Sign_In' %}">‚Üê Back to Sign In</a></p>
     </div>
   </form>

   <div class="note">
     <p><strong>Process:</strong></p>
     <ol style="padding-left:18px;margin:8px 0;">
       <li>Enter your email and request a reset code.</li>
       <li>A code is emailed (server will generate).</li>
       <li>Enter the code to proceed to password change.</li>
     </ol>
     <p style="margin-top:10px;">This page is client-side only; backend logic (code generation, email send, verification) will be added later.</p>
   </div>
 </div>

 <script>
 // Placeholder client-side only; real POST endpoints not implemented yet.
 const form = document.getElementById('forgotForm');
 const statusBox = document.getElementById('status');
 const verifyBtn = document.getElementById('verifyBtn');

 function showMsg(text, ok=true) {
   statusBox.textContent = text;
   statusBox.className = 'msg ' + (ok ? 'ok' : 'err');
   statusBox.style.display = 'block';
 }

 form.addEventListener('submit', async (e) => {
   e.preventDefault();
   const email = document.getElementById('email').value.trim();
   if(!email){
     showMsg('Email required.', false);
     return;
   }
   // Future: POST to /Sign_In/forgot-password/ (server endpoint)
   showMsg('If the email exists, a reset code will be sent (placeholder).', true);
 });

 verifyBtn.addEventListener('click', () => {
   const token = document.getElementById('token').value.trim();
   if(!/^[0-9a-fA-F]{40}$/.test(token)){
     showMsg('Invalid code format (must be 40 hex chars).', false);
     return;
   }
   // Future: POST token to verification endpoint
   showMsg('Code format OK (verification pending backend).', true);
 });
 </script>
</body>
</html>